"use strict";(self.webpackChunkadminpro03=self.webpackChunkadminpro03||[]).push([[226],{226:(ne,I,c)=>{c.r(I),c.d(I,{ChildRoutesModule:()=>se});var p=c(5870),t=c(3556),q=c(658);let M=(()=>{class o{constructor(e,i){this.userService=e,this.router=i}canActivate(){return"USER_ROLE"!==this.userService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(q.K),t.LFG(p.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Y=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"dashboard works!"),t.qZA())},encapsulation:2}),o})();var Q=c(6828);let L=(()=>{class o{constructor(){this.title="no title",this.doughnutChartLabels=[],this.data=[],this.backgroundColor=[],this.doughnutChartType="doughnut"}ngOnInit(){this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[{data:this.data,backgroundColor:this.backgroundColor}]}}chartClicked({event:e,active:i}){console.log(e,i)}chartHovered({event:e,active:i}){console.log(e,i)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-doughnut-chart"]],inputs:{title:"title",doughnutChartLabels:"doughnutChartLabels",data:"data",backgroundColor:"backgroundColor"},decls:4,vars:4,consts:[[2,"display","block"],["baseChart","",3,"data","type","labels"]],template:function(e,i){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.qZA(),t.TgZ(2,"div",0),t._UZ(3,"canvas",1),t.qZA()),2&e&&(t.xp6(1),t.Oqu(i.title),t.xp6(2),t.Q6J("data",i.doughnutChartData)("type",i.doughnutChartType)("labels",i.doughnutChartLabels))},directives:[Q.jh],encapsulation:2}),o})(),O=(()=>{class o{constructor(){this.doughnutChartLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],this.data=[350,450,100],this.backgroundColor=["#6857E6","#009FEE","#F02059"]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-chart-list"]],decls:18,vars:3,consts:[[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],["title","Sales",3,"data","backgroundColor"],[3,"doughnutChartLabels"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"app-doughnut-chart",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t._UZ(8,"app-doughnut-chart",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",0),t.TgZ(10,"div",1),t.TgZ(11,"div",2),t.TgZ(12,"div",3),t._UZ(13,"app-doughnut-chart"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",1),t.TgZ(15,"div",2),t.TgZ(16,"div",3),t._UZ(17,"app-doughnut-chart"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("data",i.data)("backgroundColor",i.backgroundColor),t.xp6(4),t.Q6J("doughnutChartLabels",i.doughnutChartLabels))},directives:[L],encapsulation:2}),o})();var S=c(7908),B=c(273);let k=(()=>{class o{constructor(){this.increasingChanged=new B.x,this.progressBarState=[{id:0,progress:40,progressByString:"40%",classBg:{"bg-primary":!0},classBtn:{"btn-primary":!0}},{id:1,progress:60,progressByString:"60%",classBg:{"bg-info":!0},classBtn:{"btn-info":!0}}]}setProgress(e,i,n){let r=n>0?n:this.progressBarState[e].progress+i;r>100?r=100:r<0&&(r=0),this.progressBarState[e].progress=r,this.progressBarState[e].progressByString=`${this.progressBarState[e].progress}%`,this.increasingChanged.next(this.progressBarState[e])}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=c(6019),a=c(7537);const P=function(o){return{"is-invalid":o}};let $=(()=>{class o{constructor(e){this.componentsService=e}changeProgress(e){this.componentsService.setProgress(this.progressBar.id,e,0)}changeInput(e){this.componentsService.setProgress(this.progressBar.id,0,e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-increasing"]],inputs:{progressBar:"progressBar"},decls:9,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",1,"btn",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","change progress",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["progress","ngModel"],[1,"fa","fa-plus"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.changeProgress(-5)}),t._UZ(3,"i",3),t.qZA(),t.qZA(),t.TgZ(4,"input",4,5),t.NdJ("ngModelChange",function(r){return i.progressBar.progress=r})("ngModelChange",function(){return i.changeInput(i.progressBar.progress)}),t.qZA(),t.TgZ(6,"span",1),t.TgZ(7,"button",2),t.NdJ("click",function(){return i.changeProgress(5)}),t._UZ(8,"i",6),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngClass",i.progressBar.classBtn),t.xp6(2),t.Q6J("ngClass",t.VKq(4,P,i.progressBar.progress<0||i.progressBar.progress>100))("ngModel",i.progressBar.progress),t.xp6(3),t.Q6J("ngClass",i.progressBar.classBtn))},directives:[d.mk,a.wV,a.Fj,a.JJ,a.On],encapsulation:2}),o})();function E(o,s){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.Udp("width",e.progressByString),t.Q6J("ngClass",e.classBg)}}function j(o,s){if(1&o&&(t.TgZ(0,"div",9),t.TgZ(1,"div",2),t._UZ(2,"div",3),t._UZ(3,"app-increasing",10),t.qZA(),t.qZA()),2&o){const e=s.$implicit;t.xp6(3),t.Q6J("progressBar",e)}}let R=(()=>{class o{constructor(e){this.componentsService=e,this.subscription=new S.w0,this.progressBarState=this.componentsService.progressBarState}ngOnInit(){this.subscription=this.componentsService.increasingChanged.subscribe(e=>{this.progressBarState[e.id]=e})}ngOnDestroy(){this.subscription.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-progress"]],decls:9,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["class","progress m-t-20",4,"ngFor","ngForOf"],["class","col-6",4,"ngFor","ngForOf"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","progress-bar-striped","active",2,"height","10px",3,"ngClass"],[1,"col-6"],[3,"progressBar"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4",4),t._uU(5,"Striped Progress bar"),t.qZA(),t.YNc(6,E,2,3,"div",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",0),t.YNc(8,j,4,1,"div",6),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",i.progressBarState),t.xp6(2),t.Q6J("ngForOf",i.progressBarState))},directives:[d.sg,d.mk,$],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:myanimation;transition:5s all}@keyframes myanimation{0%{width:0}}"]}),o})();var G=c(2110);let K=(()=>{class o{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(e){this.settingsService.changeTheme(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(G.g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-3"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h3"),t._uU(5,"Seleccione el tema"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"ul",5),t.TgZ(8,"li"),t.TgZ(9,"b"),t._uU(10,"With sidebar light"),t.qZA(),t.qZA(),t.TgZ(11,"li"),t.TgZ(12,"a",6),t.NdJ("click",function(){return i.changeTheme("default")}),t._uU(13,"1"),t.qZA(),t.qZA(),t.TgZ(14,"li"),t.TgZ(15,"a",7),t.NdJ("click",function(){return i.changeTheme("green")}),t._uU(16,"2"),t.qZA(),t.qZA(),t.TgZ(17,"li"),t.TgZ(18,"a",8),t.NdJ("click",function(){return i.changeTheme("red")}),t._uU(19,"3"),t.qZA(),t.qZA(),t.TgZ(20,"li"),t.TgZ(21,"a",9),t.NdJ("click",function(){return i.changeTheme("blue")}),t._uU(22,"4"),t.qZA(),t.qZA(),t.TgZ(23,"li"),t.TgZ(24,"a",10),t.NdJ("click",function(){return i.changeTheme("purple")}),t._uU(25,"5"),t.qZA(),t.qZA(),t.TgZ(26,"li"),t.TgZ(27,"a",11),t.NdJ("click",function(){return i.changeTheme("megna")}),t._uU(28,"6"),t.qZA(),t.qZA(),t.TgZ(29,"li",12),t.TgZ(30,"b"),t._uU(31,"With sidebar dark"),t.qZA(),t.qZA(),t.TgZ(32,"li"),t.TgZ(33,"a",13),t.NdJ("click",function(){return i.changeTheme("default-dark")}),t._uU(34,"7"),t.qZA(),t.qZA(),t.TgZ(35,"li"),t.TgZ(36,"a",14),t.NdJ("click",function(){return i.changeTheme("green-dark")}),t._uU(37,"8"),t.qZA(),t.qZA(),t.TgZ(38,"li"),t.TgZ(39,"a",15),t.NdJ("click",function(){return i.changeTheme("red-dark")}),t._uU(40,"9"),t.qZA(),t.qZA(),t.TgZ(41,"li"),t.TgZ(42,"a",16),t.NdJ("click",function(){return i.changeTheme("blue-dark")}),t._uU(43,"10"),t.qZA(),t.qZA(),t.TgZ(44,"li"),t.TgZ(45,"a",17),t.NdJ("click",function(){return i.changeTheme("purple-dark")}),t._uU(46,"11"),t.qZA(),t.qZA(),t.TgZ(47,"li"),t.TgZ(48,"a",18),t.NdJ("click",function(){return i.changeTheme("megna-dark")}),t._uU(49,"12"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},encapsulation:2}),o})();var X=c(1659),u=c.n(X),z=c(9537),h=c(6688);function W(o,s){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",6),t.TgZ(2,"label",19),t._uU(3,"Old Password"),t.qZA(),t.TgZ(4,"div",8),t.TgZ(5,"div",9),t._UZ(6,"i",20),t.qZA(),t._UZ(7,"input",21),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"label",19),t._uU(10,"New Password"),t.qZA(),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t._UZ(13,"i",20),t.qZA(),t._UZ(14,"input",22),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"label",23),t._uU(17,"Confirm New Password"),t.qZA(),t.TgZ(18,"div",8),t.TgZ(19,"div",9),t._UZ(20,"i",20),t.qZA(),t._UZ(21,"input",24),t.qZA(),t.qZA(),t.TgZ(22,"div",6),t.TgZ(23,"div",25),t._UZ(24,"input",26),t.TgZ(25,"label",27),t._uU(26," Remember me "),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function V(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"h4",4),t._uU(2,"Change image"),t.qZA(),t.TgZ(3,"form",5),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onSubmitFile()}),t.TgZ(4,"div",6),t.TgZ(5,"input",28),t.NdJ("change",function(n){return t.CHM(e),t.oxw().onFileSelect(n)}),t.qZA(),t.qZA(),t.TgZ(6,"button",16),t._uU(7," Submit "),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.fileForm),t.xp6(3),t.Q6J("disabled",!e.fileForm.valid)}}function tt(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",29),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.imageData,t.LSH)("alt",e.fileForm.value.name)}}function et(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",29),t.ALo(2,"image"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",t.lcZ(2,2,e.user.image||""),t.LSH)("alt",e.user.name)}}let it=(()=>{class o{constructor(e,i,n){this.fb=e,this.userService=i,this.fileUploadService=n,this.imageData="",this.image=new File(["new"],"new.jpg",{type:"image/jpg"}),this.user=this.userService.user,this.settingsForm=this.fb.group({name:[this.user.name,a.kI.required],email:[this.user.email,[a.kI.email,a.kI.required]],oldPassword:["",[a.kI.required,a.kI.minLength(6)]],password:["",[a.kI.required,a.kI.minLength(6)]],confirmPassword:["",[a.kI.required,a.kI.minLength(6),this.checkPassword]],signup:[!1]}),this.fileForm=this.fb.group({file:["",a.kI.required]})}getControl(e){return this.settingsForm.get(e)}checkControl(e){const i=this.getControl(e);return null!=i&&i.invalid&&(i.dirty||i.touched)}checkError(e,i){if(null==e)return!1;if(null!=e.errors){const n=e.errors[i];return"minlength"===i&&void 0!==n?n.requiredLength>n.actualLength:n}return!1}checkSettingForm(){var e;return 0===(null===(e=this.getControl("oldPassword"))||void 0===e?void 0:e.value.length)?!(!this.checkControl("name")&&!this.checkControl("email"))&&this.settingsForm.invalid:this.settingsForm.invalid}checkPassword(e){var i;let n=!1;return e.parent&&e.parent.get("password")?(n=(null===(i=e.parent.get("password"))||void 0===i?void 0:i.value)===e.value,n?null:{notEquals:!0}):null}onSubmitSettings(){this.userService.updateItem(this.settingsForm.value).subscribe({next:e=>{this.user.name=e.user.name,this.user.email=e.user.email,u().fire({title:"",text:e.msg,icon:"success"})}})}onFileSelect(e){if(this.image=e.target.files[0],this.image||(this.imageData=""),this.image&&["image/png","image/jpeg","image/jpg"].includes(this.image.type)){const r=new FileReader;r.onload=()=>{this.imageData=r.result},r.readAsDataURL(this.image)}}onSubmitFile(){this.fileUploadService.changePhoto(this.image,"users",this.user.uid||"").then(e=>{e.json().then(i=>{i.ok?(this.user.image=i.image,u().fire({title:"",text:i.msg,icon:"success"})):u().fire({title:"Error!",text:i.msg,icon:"error"})})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(q.K),t.Y36(z.J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-profile"]],decls:30,vars:7,consts:[[1,"row"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"card-title"],["autocomplete","off",1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Name","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control",3,"readonly"],[4,"ngIf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],["class","card-body",4,"ngIf"],[1,"text-center"],["for","pwd1"],[1,"ti-lock"],["type","password","id","pwd0","placeholder","Enter password","formControlName","oldPassword",1,"form-control"],["type","password","id","pwd1","placeholder","Enter new password","formControlName","password",1,"form-control"],["for","pwd2"],["type","password","id","pwd2","placeholder","Confirm new password","formControlName","confirmPassword",1,"form-control"],[1,"checkbox","checkbox-success"],["id","checkbox1","type","checkbox","formControlName","signup"],["for","checkbox1"],["type","file","id","inputFile","enctype","multipart/form-data","aria-describedby","fileHelp","formControlName","file",1,"form-control",3,"change"],[1,"img-profile",3,"src","alt"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4",4),t._uU(5,"Change settings"),t.qZA(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmitSettings()}),t.TgZ(7,"div",6),t.TgZ(8,"label",7),t._uU(9,"Name"),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t._UZ(12,"i",10),t.qZA(),t._UZ(13,"input",11),t.qZA(),t.qZA(),t.TgZ(14,"div",6),t.TgZ(15,"label",12),t._uU(16,"Email"),t.qZA(),t.TgZ(17,"div",8),t.TgZ(18,"div",9),t._UZ(19,"i",13),t.qZA(),t._UZ(20,"input",14),t.qZA(),t.qZA(),t.YNc(21,W,27,0,"div",15),t.TgZ(22,"button",16),t._uU(23," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",1),t.TgZ(25,"div",2),t.YNc(26,V,8,2,"div",17),t.TgZ(27,"div",18),t.YNc(28,tt,2,2,"div",15),t.YNc(29,et,3,4,"div",15),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formGroup",i.settingsForm),t.xp6(14),t.Q6J("readonly",i.user.google),t.xp6(1),t.Q6J("ngIf",!i.user.google),t.xp6(1),t.Q6J("disabled",i.checkSettingForm()),t.xp6(4),t.Q6J("ngIf",!i.user.google),t.xp6(2),t.Q6J("ngIf",i.imageData),t.xp6(1),t.Q6J("ngIf",!i.imageData))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.O5,a.Wl],pipes:[h.I],encapsulation:2}),o})();class ot extends S.w0{constructor(s,e){super()}schedule(s,e=0){return this}}const f={setInterval(...o){const{delegate:s}=f;return((null==s?void 0:s.setInterval)||setInterval)(...o)},clearInterval(o){const{delegate:s}=f;return((null==s?void 0:s.clearInterval)||clearInterval)(o)},delegate:void 0};var st=c(3980);const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class Z{constructor(s,e=Z.now){this.schedulerActionCtor=s,this.now=e}schedule(s,e=0,i){return new this.schedulerActionCtor(this,s).schedule(i,e)}}Z.now=w.now;const y=new class extends Z{constructor(s,e=Z.now){super(s,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(s){const{actions:e}=this;if(this._active)return void e.push(s);let i;this._active=!0;do{if(i=s.execute(s.state,s.delay))break}while(s=e.shift());if(this._active=!1,i){for(;s=e.shift();)s.unsubscribe();throw i}}}(class extends ot{constructor(s,e){super(s,e),this.scheduler=s,this.work=e,this.pending=!1}schedule(s,e=0){if(this.closed)return this;this.state=s;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(s,e,i=0){return f.setInterval(s.flush.bind(s,this),i)}recycleAsyncId(s,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;f.clearInterval(e)}execute(s,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(s,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,e){let n,i=!1;try{this.work(s)}catch(r){i=!0,n=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:s,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,st.P)(i,this),null!=s&&(this.id=this.recycleAsyncId(e,s,null)),this.delay=null,super.unsubscribe()}}}),at=y;var ct=c(1404),J=c(9468),lt=c(9947),dt=c(8889),ut=c(6921),_=c(4753),ht=c(5724);function N(o,s){return s?e=>(0,ct.z)(s.pipe((0,J.q)(1),(0,lt.e)((o,s)=>{o.subscribe(new dt.Q(s,ut.Z))})),e.pipe(N(o))):(0,ht.z)((e,i)=>o(e,i).pipe((0,J.q)(1),function(o){return(0,_.U)(()=>o)}(e)))}var mt=c(8305),Zt=c(7398);function C(o,s=y){const e=function(o=0,s,e=at){let i=-1;return null!=s&&((0,Zt.K)(s)?e=s:i=s),new mt.y(n=>{let r=function(o){return o instanceof Date&&!isNaN(o)}(o)?+o-e.now():o;r<0&&(r=0);let l=0;return e.schedule(function(){n.closed||(n.next(l++),0<=i?this.schedule(void 0,i):n.complete())},r)})}(o,s);return N(()=>e)}var g=c(449),v=c(2997),T=c(2835),m=c(3606),x=c(4522);let A=(()=>{class o{constructor(e){this.http=e}getCollection(e,i){return this.http.get(`${m.N.base_url}/search/collection/${e}/${i}`).pipe((0,_.U)(n=>n.searchResult),(0,T.K)(()=>(0,v.of)(null)))}getAll(e){return this.http.get(`${m.N.base_url}/search/${e}`).pipe((0,T.K)(()=>(0,v.of)(null)))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=c(4242);function vt(o,s){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",7),t.TgZ(3,"h4",8),t._uU(4,"Loading..."),t.qZA(),t._UZ(5,"i",9),t.TgZ(6,"p",10),t._uU(7,"Wait please"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Tt(o,s){1&o&&(t.TgZ(0,"span",27),t._uU(1,"Google"),t.qZA())}function At(o,s){1&o&&(t.TgZ(0,"span",28),t._uU(1,"Email"),t.qZA())}function qt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"a",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,r=t.oxw(2),l=t.MAs(5);return r.deleteItem(n,l.value)}),t._UZ(2,"i",30),t.qZA(),t.qZA()}}function Ct(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",19),t.TgZ(2,"img",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).openModal(r)}),t.ALo(3,"image"),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"select",21),t.NdJ("ngModelChange",function(n){return t.CHM(e).$implicit.role=n})("change",function(){const r=t.CHM(e).$implicit;return t.oxw(2).changeRole(r)}),t.TgZ(10,"option",22),t._uU(11,"Admin"),t.qZA(),t.TgZ(12,"option",23),t._uU(13,"User"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"td"),t.YNc(15,Tt,2,0,"span",24),t.YNc(16,At,2,0,"span",25),t.qZA(),t.TgZ(17,"td",26),t.YNc(18,qt,3,0,"div",18),t.qZA(),t.qZA()}if(2&o){const e=s.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("src",t.lcZ(3,7,e.image||""),t.LSH),t.xp6(3),t.Oqu(e.email),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngModel",e.role),t.xp6(6),t.Q6J("ngIf",i.user.google),t.xp6(1),t.Q6J("ngIf",!i.user.google),t.xp6(2),t.Q6J("ngIf",i.isCurrentUser(e))}}function xt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).back()}),t._uU(2,"Back"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).next()}),t._uU(5,"Next"),t.qZA(),t.qZA()}}function bt(o,s){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4",11),t._uU(5),t.qZA(),t.TgZ(6,"div",12),t.TgZ(7,"table",13),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",14),t._uU(11,"Avatar"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"User email"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"User name"),t.qZA(),t.TgZ(16,"th",15),t._uU(17,"Role"),t.qZA(),t.TgZ(18,"th",14),t._uU(19,"Auth"),t.qZA(),t.TgZ(20,"th",16),t._uU(21,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,Ct,19,9,"tr",17),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,xt,6,0,"div",18),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(),i=t.MAs(5);t.xp6(5),t.hij("Total count of users: ",e.total,""),t.xp6(18),t.Q6J("ngForOf",e.items),t.xp6(1),t.Q6J("ngIf",!i.value)}}let Ut=(()=>{class o{constructor(e,i,n){this.userService=e,this.searchesService=i,this.modalImageService=n,this.items=[],this.total=0,this.from=0,this.loaded=!0,this.user=this.userService.user,this.sub=this.modalImageService.loadedImage.pipe(C(1e3)).subscribe(()=>{this.loadItems()})}ngOnDestroy(){this.sub.unsubscribe()}ngOnInit(){this.loadItems()}back(){this.from=this.from-this.userService.limit,this.from<0&&(this.from=0),this.loadItems()}next(){this.from=this.from+this.userService.limit,this.from>this.total&&(this.from=this.total),this.loadItems()}loadItems(){this.loaded=!1,this.userService.getItems(this.from).subscribe({next:({total:e,items:i})=>{this.items=i?this.userService.transform(i):[],this.total=e,this.loaded=!0}})}search(e){if(!e)return this.loadItems();this.loaded=!1,this.searchesService.getCollection(g.n.users,e).subscribe({next:i=>{this.items=i?this.userService.transform(i):[],this.total=this.items.length,this.loaded=!0}})}deleteItem(e,i){const n=e.uid||"";u().fire({title:"Delete user?",text:`You are going to delete ${e.name}!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.userService.deleteItem(n).subscribe({next:()=>{u().fire("Deleted!","User has been deleted.","success"),i||this.loadItems(),this.search(i)}})})}isCurrentUser(e){return e.uid!=this.user.uid}changeRole(e){this.userService.updateRole(e).subscribe({next:i=>{u().fire({title:"",text:i.msg,icon:"success"})}})}openModal(e){this.modalImageService.startModal(e.image||"",e.uid||"",g.n.users)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(q.K),t.Y36(A),t.Y36(b.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-users"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Find user...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["alt","Avatar de user",1,"avatar","cursor",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-danger",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],[1,"label","label-danger"],[1,"label","label-info"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-trash","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"input",4,5),t.NdJ("keyup",function(){t.CHM(n);const l=t.MAs(5);return i.search(l.value)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(6,vt,8,0,"div",6),t.YNc(7,bt,25,3,"div",6)}2&e&&(t.xp6(6),t.Q6J("ngIf",!i.loaded),t.xp6(1),t.Q6J("ngIf",i.loaded))},directives:[d.O5,d.sg,a.EJ,a.JJ,a.On,a.YN,a.Kr],pipes:[h.I],encapsulation:2}),o})();class It{constructor(s,e,i,n){this.name=s,this._id=e,this.user=i,this.image=n}}let F=(()=>{class o{constructor(e){this.http=e,this.limit=+m.N.hospitalsLoadLimit,this.url=`${m.N.base_url}/${g.n.hospitals}`}get token(){return localStorage.getItem("token")||""}transform(e){return e.map(i=>new It(i.name,i._id,i.user,i.image))}getItems(e=0){return this.http.get(this.url,{params:{from:e,limit:this.limit}}).pipe((0,_.U)(i=>{const n=this.transform(i.hospitals);return{length:i.length,total:i.total,items:n}}),(0,T.K)(()=>(0,v.of)({length:0,total:0,items:null})))}createItem(e){return this.http.post(this.url,e)}updateItem(e,i){return this.http.put(`${this.url}/${i}`,e)}deleteItem(e){return this.http.delete(`${this.url}/${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function St(o,s){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",12),t.TgZ(3,"h4",13),t._uU(4,"Loading..."),t.qZA(),t._UZ(5,"i",14),t.TgZ(6,"p",15),t._uU(7,"Wait please"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function kt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",23),t.TgZ(2,"img",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).openModal(r)}),t.ALo(3,"image"),t.qZA(),t.qZA(),t.TgZ(4,"td"),t.TgZ(5,"input",25),t.NdJ("ngModelChange",function(n){return t.CHM(e).$implicit.name=n}),t.qZA(),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"img",26),t.ALo(8,"image"),t._uU(9),t.qZA(),t.TgZ(10,"td",27),t.TgZ(11,"div"),t.TgZ(12,"a",28),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).changeItem(r)}),t._UZ(13,"i",29),t.qZA(),t._uU(14," \xa0 "),t.TgZ(15,"a",28),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(2),U=t.MAs(7);return l.deleteItem(r,U.value)}),t._UZ(16,"i",30),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=s.$implicit,i=t.oxw(2);t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",t.xi3(3,6,e.image||"",i.collection),t.LSH),t.xp6(3),t.Q6J("ngModel",e.name),t.xp6(2),t.s9C("alt",null==e.user?null:e.user.name),t.Q6J("src",t.lcZ(8,9,(null==e.user?null:e.user.image)||""),t.LSH),t.xp6(2),t.hij(" ",null==e.user?null:e.user.name," ")}}function wt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).back()}),t._uU(2,"Back"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).next()}),t._uU(5,"Next"),t.qZA(),t.qZA()}}function yt(o,s){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4",16),t._uU(5),t.qZA(),t.TgZ(6,"div",17),t.TgZ(7,"table",18),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th",19),t._uU(11,"Photo"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Name"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"User"),t.qZA(),t.TgZ(16,"th",20),t._uU(17,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,kt,17,11,"tr",21),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,wt,6,0,"div",22),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(),i=t.MAs(7);t.xp6(5),t.hij("Total count of hospitals: ",e.total,""),t.xp6(14),t.Q6J("ngForOf",e.items),t.xp6(1),t.Q6J("ngIf",!i.value)}}let Jt=(()=>{class o{constructor(e,i,n){this.hospitalService=e,this.searchesService=i,this.modalImageService=n,this.items=[],this.total=0,this.from=0,this.loaded=!0,this.collection=g.n.hospitals,this.sub=this.modalImageService.loadedImage.pipe(C(1e3)).subscribe(()=>{this.loadItems()})}ngOnDestroy(){this.sub.unsubscribe()}ngOnInit(){this.loadItems()}back(){this.from=this.from-this.hospitalService.limit,this.from<0&&(this.from=0),this.loadItems()}next(){this.from=this.from+this.hospitalService.limit,this.from>this.total&&(this.from=this.total),this.loadItems()}loadItems(){this.loaded=!1,this.hospitalService.getItems(this.from).subscribe({next:({total:e,items:i})=>{this.items=i||[],this.total=e,this.loaded=!0}})}search(e){if(!e)return this.loadItems();this.loaded=!1,this.searchesService.getCollection(this.collection,e).subscribe({next:i=>{this.items=i?this.hospitalService.transform(i):[],this.total=this.items.length,this.loaded=!0}})}createItem(e){this.hospitalService.createItem({name:e}).subscribe({next:i=>{u().fire({title:"",text:i.msg,icon:"success"}),this.search(e)}})}deleteItem(e,i){const n=e._id||"";u().fire({title:"Delete hospital?",text:`You are going to delete ${e.name}!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.hospitalService.deleteItem(n).subscribe({next:()=>{u().fire("Deleted!","Hospital has been deleted.","success"),i||this.loadItems(),this.search(i)}})})}changeItem(e){var i;this.hospitalService.updateItem({name:e.name,user:(null===(i=e.user)||void 0===i?void 0:i._id)||""},e._id||"").subscribe({next:n=>{u().fire({title:"",text:n.msg,icon:"success"})}})}openModal(e){this.modalImageService.startModal(e.image||"",e._id||"",this.collection)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(F),t.Y36(A),t.Y36(b.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-hospitals"]],decls:14,vars:3,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-10"],["type","text","placeholder","Find or create hospital...",1,"form-control",3,"keyup"],["txtTerm",""],[1,"col-2"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-hospital-o"],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],["type","text","placeholder","Name of hospital",1,"form-control",3,"ngModel","ngModelChange"],[1,"avatar",3,"src","alt"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-trash","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"input",6,7),t.NdJ("keyup",function(){t.CHM(n);const l=t.MAs(7);return i.search(l.value)}),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"button",9),t.NdJ("click",function(){t.CHM(n);const l=t.MAs(7);return i.createItem(l.value)}),t.TgZ(10,"i",10),t._uU(11," Create hospital "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(12,St,8,0,"div",11),t.YNc(13,yt,21,3,"div",11)}if(2&e){const n=t.MAs(7);t.xp6(9),t.Q6J("disabled",!n.value),t.xp6(3),t.Q6J("ngIf",!i.loaded),t.xp6(1),t.Q6J("ngIf",i.loaded)}},directives:[d.O5,d.sg,a.Fj,a.JJ,a.On],pipes:[h.I],encapsulation:2}),o})();class D{constructor(s,e,i,n,r){this.name=s,this._id=e,this.image=i,this.user=n,this.hospital=r}}let H=(()=>{class o{constructor(e){this.http=e,this.limit=+m.N.doctorsLoadLimit,this.url=`${m.N.base_url}/${g.n.doctors}`}get token(){return localStorage.getItem("token")||""}transform(e){return e.map(i=>new D(i.name,i._id,i.image,i.user,i.hospital))}getItems(e=0){return this.http.get(this.url,{params:{from:e,limit:this.limit}}).pipe((0,_.U)(i=>{const n=this.transform(i.doctors);return{length:i.length,total:i.total,items:n}}),(0,T.K)(()=>(0,v.of)({length:0,total:0,items:null})))}getItem(e){return this.http.get(`${this.url}/${e}`).pipe((0,_.U)(i=>this.transform([i.doctor])[0]))}createItem(e){return this.http.post(this.url,e)}updateItem(e,i){return this.http.put(`${this.url}/${i}`,e)}deleteItem(e){return this.http.delete(`${this.url}/${e}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Nt(o,s){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",10),t.TgZ(3,"h4",11),t._uU(4,"Loading..."),t.qZA(),t._UZ(5,"i",12),t.TgZ(6,"p",13),t._uU(7,"Wait please"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}const Ft=function(o){return["/dashboard","doctor",o]};function Dt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",21),t.TgZ(2,"img",22),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).openModal(r)}),t.ALo(3,"image"),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"img",23),t.ALo(8,"image"),t._uU(9),t.qZA(),t.TgZ(10,"td",24),t.TgZ(11,"div"),t.TgZ(12,"a",25),t._UZ(13,"i",26),t.qZA(),t._uU(14," \xa0 "),t.TgZ(15,"a",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(2),U=t.MAs(11);return l.deleteItem(r,U.value)}),t._UZ(16,"i",28),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=s.$implicit,i=t.oxw(2);t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",t.xi3(3,7,e.image||"",i.collection),t.LSH),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.s9C("alt",null==e.user?null:e.user.name),t.Q6J("src",t.lcZ(8,10,(null==e.user?null:e.user.image)||""),t.LSH),t.xp6(2),t.hij(" ",null==e.user?null:e.user.name," "),t.xp6(3),t.Q6J("routerLink",t.VKq(12,Ft,e._id))}}function Ht(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).back()}),t._uU(2,"Back"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).next()}),t._uU(5,"Next"),t.qZA(),t.qZA()}}function Mt(o,s){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div"),t.TgZ(5,"h4",14),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",15),t.TgZ(8,"table",16),t.TgZ(9,"thead"),t.TgZ(10,"tr"),t.TgZ(11,"th",17),t._uU(12,"Photo"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"User"),t.qZA(),t.TgZ(17,"th",18),t._uU(18,"Actions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"tbody"),t.YNc(20,Dt,17,14,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,Ht,6,0,"div",20),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(),i=t.MAs(11);t.xp6(6),t.hij("Total count of doctors: ",e.total,""),t.xp6(14),t.Q6J("ngForOf",e.items),t.xp6(1),t.Q6J("ngIf",!i.value)}}const Yt=function(){return["/dashboard","doctor","new"]};function Lt(o,s){1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"h4",4),t._uU(4,"Loading..."),t.qZA(),t._UZ(5,"i",5),t.TgZ(6,"p",6),t._uU(7,"Wait please"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Ot(o,s){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",32),t._UZ(2,"img",33),t.ALo(3,"image"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.qZA()),2&o){const e=s.$implicit,i=t.oxw(3);t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",t.xi3(3,3,e.image||"",i.collectionHospitals),t.LSH),t.xp6(3),t.Oqu(e.name)}}function Bt(o,s){if(1&o&&(t.TgZ(0,"div",13),t.TgZ(1,"div"),t.TgZ(2,"h4",10),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",29),t.TgZ(5,"table",30),t.TgZ(6,"tbody"),t.YNc(7,Ot,6,6,"tr",31),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.hij(" Hospitals of doctor: ",e.hospitalsDoctor.length," "),t.xp6(4),t.Q6J("ngForOf",e.hospitalsDoctor)}}function Pt(o,s){if(1&o&&(t.TgZ(0,"option",34),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.name," ")}}function $t(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"div",9),t.TgZ(4,"h4",10),t._uU(5),t.qZA(),t.TgZ(6,"div"),t._UZ(7,"img",11),t.ALo(8,"image"),t.qZA(),t.TgZ(9,"form",12),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(10,"div",13),t.TgZ(11,"label",14),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"div",15),t.TgZ(14,"div",16),t._UZ(15,"i",17),t.qZA(),t._UZ(16,"input",18),t.qZA(),t.qZA(),t.YNc(17,Bt,8,2,"div",19),t.TgZ(18,"div",13),t.TgZ(19,"label",20),t._uU(20,"Hospital"),t.qZA(),t.TgZ(21,"div",15),t.TgZ(22,"div",16),t._UZ(23,"i",21),t.qZA(),t.TgZ(24,"select",22),t.TgZ(25,"option",23),t._uU(26,"Choose hospital"),t.qZA(),t.YNc(27,Pt,2,2,"option",24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"button",25),t._uU(29," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",26),t.TgZ(31,"div",8),t.TgZ(32,"div",27),t.TgZ(33,"h4",10),t._uU(34,"Photo of selected hospital"),t.qZA(),t.TgZ(35,"div"),t._UZ(36,"img",28),t.ALo(37,"image"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.hij(" ",e.doctor.name?"Change doctor":"New doctor"," "),t.xp6(2),t.Q6J("src",t.xi3(8,7,e.imageDoctor,e.collectionDoctors),t.LSH),t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.hospitalsDoctor),t.xp6(10),t.Q6J("ngForOf",e.hospitals),t.xp6(1),t.Q6J("disabled",e.form.invalid),t.xp6(8),t.Q6J("src",t.xi3(37,10,e.imageHospital,e.collectionHospitals),t.LSH)}}function jt(o,s){1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"h4",4),t._uU(4,"Loading..."),t.qZA(),t._UZ(5,"i",5),t.TgZ(6,"p",6),t._uU(7,"Wait please"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Rt(o,s){1&o&&(t.TgZ(0,"div",3),t.TgZ(1,"p",13),t._uU(2,"Oops! There are not users in search :-("),t.qZA(),t.qZA())}function Gt(o,s){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._UZ(4,"img",19),t.ALo(5,"image"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=s.$implicit,i=s.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",t.lcZ(5,4,e.image||""),t.LSH),t.xp6(3),t.Oqu(e.name)}}function Kt(o,s){if(1&o&&(t.TgZ(0,"div",14),t.TgZ(1,"table",15),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th",16),t._uU(7,"Avatar"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Name"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,Gt,8,6,"tr",17),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",e.users)}}function Xt(o,s){1&o&&(t.TgZ(0,"div",3),t.TgZ(1,"p",13),t._uU(2,"Oops! There are not doctors in search :-("),t.qZA(),t.qZA())}function zt(o,s){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._UZ(4,"img",19),t.ALo(5,"image"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=s.$implicit,i=s.index,n=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",t.xi3(5,4,e.image||"",n.collectionDoctors),t.LSH),t.xp6(3),t.Oqu(e.name)}}function Wt(o,s){if(1&o&&(t.TgZ(0,"div",14),t.TgZ(1,"table",15),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th",16),t._uU(7,"Avatar"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Name"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,zt,8,7,"tr",17),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",e.doctors)}}function Vt(o,s){1&o&&(t.TgZ(0,"div",3),t.TgZ(1,"p",13),t._uU(2,"Oops! There are not hospitals in search :-("),t.qZA(),t.qZA())}function te(o,s){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._UZ(4,"img",20),t.ALo(5,"image"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.qZA()),2&o){const e=s.$implicit,i=s.index,n=t.oxw(3);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",t.xi3(5,4,e.image||"",n.collectionHospitals),t.LSH),t.xp6(3),t.Oqu(e.name)}}function ee(o,s){if(1&o&&(t.TgZ(0,"div",14),t.TgZ(1,"table",15),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th",16),t._uU(7,"Avatar"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Name"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,te,8,7,"tr",17),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(11),t.Q6J("ngForOf",e.hospitals)}}function ie(o,s){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"div",9),t.TgZ(4,"h3",10),t._uU(5,"Users"),t.qZA(),t.YNc(6,Rt,3,0,"div",11),t.YNc(7,Kt,12,1,"div",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"div",9),t.TgZ(11,"h3",10),t._uU(12,"Doctors"),t.qZA(),t.YNc(13,Xt,3,0,"div",11),t.YNc(14,Wt,12,1,"div",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",7),t.TgZ(16,"div",8),t.TgZ(17,"div",9),t.TgZ(18,"h3",10),t._uU(19,"Hospitals"),t.qZA(),t.YNc(20,Vt,3,0,"div",11),t.YNc(21,ee,12,1,"div",12),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",0===e.users.length),t.xp6(1),t.Q6J("ngIf",e.users.length>0),t.xp6(6),t.Q6J("ngIf",0===e.doctors.length),t.xp6(1),t.Q6J("ngIf",e.doctors.length>0),t.xp6(6),t.Q6J("ngIf",0===e.hospitals.length),t.xp6(1),t.Q6J("ngIf",e.hospitals.length>0)}}const oe=[{path:"",component:Y,data:{title:"Dashboards"}},{path:"progress",component:R,data:{title:"Progress"}},{path:"profile",component:it,data:{title:"My Profile"}},{path:"charts",component:O,data:{title:"Charts"}},{path:"account-settings",component:K,data:{title:"Settings"}},{path:"users",component:Ut,canActivate:[M],data:{title:"Users"}},{path:"hospitals",component:Jt,data:{title:"Hospitals"}},{path:"doctors",component:(()=>{class o{constructor(e,i,n){this.doctorService=e,this.searchesService=i,this.modalImageService=n,this.items=[],this.total=0,this.from=0,this.loaded=!0,this.collection=g.n.doctors,this.sub=this.modalImageService.loadedImage.pipe(C(1e3)).subscribe(()=>{this.loadItems()})}ngOnDestroy(){this.sub.unsubscribe()}ngOnInit(){this.loadItems()}back(){this.from=this.from-this.doctorService.limit,this.from<0&&(this.from=0),this.loadItems()}next(){this.from=this.from+this.doctorService.limit,this.from>this.total&&(this.from=this.total),this.loadItems()}loadItems(){this.loaded=!1,this.doctorService.getItems(this.from).subscribe({next:({total:e,items:i})=>{this.items=i||[],this.total=e,this.loaded=!0}})}search(e){if(!e)return this.loadItems();this.loaded=!1,this.searchesService.getCollection(this.collection,e).subscribe({next:i=>{this.items=i?this.doctorService.transform(i):[],this.total=this.items.length,this.loaded=!0}})}deleteItem(e,i){const n=e._id||"";u().fire({title:"Delete hospital?",text:`You are going to delete ${e.name}!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.doctorService.deleteItem(n).subscribe({next:()=>{u().fire("Deleted!","Hospital has been deleted.","success"),i||this.loadItems(),this.search(i)}})})}openModal(e){this.modalImageService.startModal(e.image||"",e._id||"",this.collection)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(H),t.Y36(A),t.Y36(b.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-doctors"]],decls:14,vars:4,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-user"],["type","text","placeholder","Find doctor...",1,"form-control",3,"keyup"],["txtTerm",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],[1,"avatar","cursor",3,"src","alt","click"],[1,"avatar",3,"src","alt"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"routerLink"],[1,"fa","fa-pencil"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-trash","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"button",5),t.TgZ(6,"i",6),t._uU(7," Create doctor "),t.qZA(),t.qZA(),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div"),t.TgZ(10,"input",7,8),t.NdJ("keyup",function(){t.CHM(n);const l=t.MAs(11);return i.search(l.value)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(12,Nt,8,0,"div",9),t.YNc(13,Mt,22,3,"div",9)}2&e&&(t.xp6(5),t.Q6J("routerLink",t.DdM(3,Yt)),t.xp6(7),t.Q6J("ngIf",!i.loaded),t.xp6(1),t.Q6J("ngIf",i.loaded))},directives:[p.rH,d.O5,d.sg,p.yS],pipes:[h.I],encapsulation:2}),o})(),data:{title:"Doctors"}},{path:"doctor/:id",component:(()=>{class o{constructor(e,i,n,r,l){this.fb=e,this.doctorService=i,this.hospitalService=n,this.router=r,this.route=l,this.doctor=new D(""),this.hospitals=[],this.imageDoctor="",this.imageHospital="",this.collectionHospitals=g.n.hospitals,this.collectionDoctors=g.n.doctors,this.loaded=!0,this.hospitalsDoctor=[],this.form=this.fb.group({name:["",a.kI.required],hospital:["",a.kI.required]})}ngOnInit(){var e;this.loadHospitals(),null===(e=this.form.get("hospital"))||void 0===e||e.valueChanges.subscribe(i=>{this.imageHospital=this.hospitals.filter(n=>n._id===i)[0].image||""}),this.route.params.subscribe(({id:i})=>{"new"!==i&&(this.loaded=!1,this.doctorService.getItem(i).subscribe({next:n=>{n&&(this.doctor=n,this.hospitalsDoctor=n.hospital,this.form.setValue({name:this.doctor.name,hospital:n.hospital[0]._id}),this.imageDoctor=this.doctor.image||"",this.imageHospital=n.hospital[0].image),this.loaded=!0}}))})}loadHospitals(){this.hospitalService.getItems().subscribe({next:({items:i})=>{this.hospitals=i||[]}})}onSubmit(){this.doctor._id?this.doctorService.updateItem(this.form.value,this.doctor._id||"").subscribe({next:e=>{u().fire({title:"",text:e.msg,icon:"success"}),this.router.navigateByUrl(`/dashboard/doctor/${e.doctor._id}`),this.ngOnInit()}}):this.doctorService.createItem(this.form.value).subscribe({next:e=>{u().fire({title:"",text:e.msg,icon:"success"}),this.router.navigateByUrl(`/dashboard/doctor/${e.doctor._id}`)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(H),t.Y36(F),t.Y36(p.F0),t.Y36(p.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["doctor-profile"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"card-title"],["alt","doctor",1,"img-profile","w140",3,"src"],["autocomplete","off",1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","inputName"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","inputName","placeholder","Enter doctor's name","formControlName","name",1,"form-control"],["class","form-group",4,"ngIf"],["for","InputHospital"],[1,"fa","fa-hospital-o"],["type","email","id","InputHospital","formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"col-lg-6","animated","fadeIn","fast"],[1,"card-body","text-center"],["alt","hospital",1,"img-profile",3,"src"],[1,"table-responsive"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"avatar","cursor",3,"src","alt"],[3,"value"]],template:function(e,i){1&e&&(t.YNc(0,Lt,8,0,"div",0),t.YNc(1,$t,38,13,"div",0)),2&e&&(t.Q6J("ngIf",!i.loaded),t.xp6(1),t.Q6J("ngIf",i.loaded))},directives:[d.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,d.sg],pipes:[h.I],encapsulation:2}),o})(),data:{title:"Doctor"}},{path:"search/:term",component:(()=>{class o{constructor(e,i){this.route=e,this.searchesService=i,this.users=[],this.doctors=[],this.hospitals=[],this.loaded=!0,this.collectionHospitals=g.n.hospitals,this.collectionDoctors=g.n.doctors}ngOnInit(){this.route.params.subscribe(({term:e})=>{0!==e.trim().length&&(this.loaded=!1,this.searchesService.getAll(e).subscribe({next:i=>{i?(this.users=i.users,this.doctors=i.doctors,this.hospitals=i.hospitals):(this.users=[],this.doctors=[],this.hospitals=[]),this.loaded=!0}}))})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-search"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"col-lg-4"],[1,"card"],[1,"card-body"],[1,"card-title"],["class","alert alert-info text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],["mb-0","",1,""],[1,"table-responsive"],[1,"table"],[1,"w100"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"avatar",3,"src","alt"],[1,"w100",3,"src","alt"]],template:function(e,i){1&e&&(t.YNc(0,jt,8,0,"div",0),t.YNc(1,ie,22,6,"div",0)),2&e&&(t.Q6J("ngIf",!i.loaded),t.xp6(1),t.Q6J("ngIf",i.loaded))},directives:[d.O5,d.sg],pipes:[h.I],encapsulation:2}),o})(),data:{title:"Result of search..."}}];let se=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(oe)],p.Bz]}),o})()}}]);